## DVWebExtention 

Этот проект содержит скрипты для платформы Docsvision, расширяющие функциональность карточки "Заявка на командировку". Скрипты выполняют валидацию данных перед сохранением, проверяют корректность диапазона дат и выводят сводную информацию о карточке.

### Описание файлов проекта

1) `copy-path.js` - константы с именем расширения и параметрами сборки (в частности, путь, куда копировать файлы после сборки).
2) `gulpfile.js` - конфигурация сборки стилей для [Gulp](https://ru.wikipedia.org/wiki/Gulp)
3) `package.json` - файл конфигурации [NPM](https://medium.com/devschacht/node-hero-chapter-2-f04fec8182f0). Содержит определение команд сборки, а также используемые npm-зависимости.
4) `package-lock.json` - файл, который автоматически генерируется NPM при выполнении команды `npm install`. Это служебный файл NPM, он необходим для того, чтобы зависимости всегда устанавливались в одной и той же последовательности.
5) `rollup.config.js` - файл конфигурации [Rollup](https://habr.com/post/331412/), который используется для сборки файлов скриптов в один бандл.
6) `tsconfig.json` - файл конфигурации [TypeScript](https://ru.wikipedia.org/wiki/TypeScript)
7) `node_modules` - служебная папка NPM, которая появляется после выполнения команды `npm install`. Содержит npm-зависимости проекта, используемые в процессе сборки.
8) `src` - исходные файлы расширения

### Необходимое ПО

* [NodeJS v22.14.0+](https://nodejs.org/en/)
* [VSCode](https://code.visualstudio.com/) или любой другой редактор

### Функциональность

1) Валидация заполнения контролов: Предотвращает сохранение карточки, если не заполнены обязательные поля "Командируемый" или "Название".
2) Валидация диапазона дат: Проверяет, что значение контрола "Дата по" больше, чем значение контрола "Дата с". Если это не так, выдается сообщение об ошибке.
3) Вывод информации о карточке: При нажатии на кнопку выводит в информационном окне название карточки, дату создания, даты "Дата с" и "Дата по", а также основание для поездки.

## Описание скриптов

`ddBusinessTripRegistration_TravelingEmployeeStaffDirectoryItems_cardSaving(layout, args)`

 Описание: Вызывается перед сохранением карточки. Проверяет, что поле "Командируемый" заполнено. Если поле не заполнено, сохранение карточки отменяется и отображается сообщение об ошибке.
 Назначение: Назначить на событие `On card saving` карточки "Заявка на командировку".
 Параметры:
 - `layout`:  Объект `ILayout`, представляющий разметку карточки.
 - `args`:  Объект `CancelableEventArgs<ICardSavingEventArgs>`, содержащий аргументы события сохранения.

`ddBusinessTripRegistration_applicationNameHeaderTextBox_cardSaving(layout, args)`

 Описание: Вызывается перед сохранением карточки. Проверяет, что поле "Название" заполнено. Если поле не заполнено, сохранение карточки отменяется и отображается сообщение об ошибке.
 Назначение: Назначить на событие `On card saving` карточки "Заявка на командировку".
 Параметры:
 - `layout`:  Объект `ILayout`, представляющий разметку карточки.
 - `args`:  Объект `CancelableEventArgs<ICardSavingEventArgs>`, содержащий аргументы события сохранения.

`ddBusinessTripRegistration_dateFrom_onDataChanged(sender, args)`

 Описание: Вызывается при изменении значения в контроле "Дата с". Проверяет, что "Дата по" больше "Дата с".  
 Если "Дата по" меньше или равна "Дата с", поле "Дата по" очищается и отображается сообщение об ошибке.
 Назначение: Назначить на событие `on data changed` контрола `tripStartDate`.
 Параметры:
 - `sender`: Объект `DateTimePicker`, представляющий контрол "Дата с".
 - `args`: Объект `IDataChangedEventArgsEx<Date>`, содержащий аргументы события изменения данных.

`ddBusinessTripRegistration_dateTo_onDataChanged(sender, args)`
 Описание: Вызывается при изменении значения в контроле "Дата по". Проверяет, что "Дата по" больше "Дата с". Если "Дата по" меньше или равна "Дата с", поле "Дата по" очищается и отображается сообщение об ошибке.
 Назначение: Назначить на событие `on data Changed` контрола `tripEndDate`.
 Параметры:
 - `sender`: Объект `DateTimePicker`, представляющий контрол "Дата по".
 - `args`: Объект `IDataChangedEventArgsEx<Date>`, содержащий аргументы события изменения данных.

`ddBusinessTripRegistration_InformCustomButton_onClick(sender, args)`

 Описание: Вызывается при нажатии на кнопку "Информация о командировке". Выводит сводную информацию о карточке, включающую название карточки, дату создания, даты "Дата с" и "Дата по", и основание для поездки.
 Назначение: Назначить на событие `on click` контрола `InformCustomButton`.
 Параметры:
 - `sender`: Объект `CustomButton`, представляющий кнопку "Информация о командировке".
 - `args`: Объект `ICancelableEventArgs<void>`, содержащий аргументы события нажатия кнопки.




